## 不良人测试问题

1. ##### 每个功能开发的时候写下测试用例, 里面要包含哪些注意的点. 防止到测试前忘了怎么测试功能. 可以写在handler处. 

2. 组队前尘故梦的时候, 在骑马界面不停的弹出提示 队员不在附近(因为客户端连续点击进入, 服务器认为条件不符合)

3. **组队托管和离线ai代码梳理**.   跟随托管和离线ai使用2个类来分开管理.    跟随的队员的战斗状态和托管战斗状态现在逻辑混乱

4. 组队isLeader(),  isMember() 和 hasTeam() 是不同的三个状态.  isLeader 并不等于 !isMember.  需要整理代码

5. dictxxxData 热更代码规范化(防止重复添加的问题. )

6. world数据(好友, 聊天数据)广播发送到所有的场景的并发修改问题(builder不缓存.  build后的对象预先创建.   修改字段的时候, 需要先拷贝对象, 再使用.  使用一个字段来进行异常报错. 致命错误)

7. **所有时间需要以服务器时间为准, 防止客户端不同时区的问题**(可以玩家登录的时候对下服务器时间)

8. 所有广播到场景的逻辑最好增加cd, 防止不停的发送.(在入口增加, 由于需要区别对待, 所以如果在统一的地方则很难处理)

9. 优化追队长时候的队员寻路. 现在是队长可以通过车夫传送, 队员不能,跑步跑向队长. 

10. 一条龙的队伍进入副本的时候是距离很远的, 所以导致出副本的时候也是距离很远的. (因为只有第一次进入才会校验距离, 其他时候没有校验)

11. **现在全服邮件的发送方式是每个玩家发送一封 这样如果有长时间不上线的玩家, 会导致离线邮件的大量积压.  应该使用全局邮件的方式来处理**

12. int相乘后才赋值给long, 这个时候依然会导致超界而变成负数(需要先使用1L先乘一下)