### 玩家移动

1. handler:   PacketIDConst.CSUnitMove

2. doMoveTo

   1.  不是正常移动的时候

      1. 如果正在移动, 打断移动, 并切换到普通移动

         ```java
         // 切换到普通移动
         if(curMoveModeEnum != MoveModeEnum.NORMAL)
         {
             if(curMoveMode.isMoving())
             {
                 curMoveMode.breakMove(false);
             }
         
             rs = switchMoveMode0(MoveModeEnum.NORMAL,false);
             if(rs < 0)
             {
                 return rs;
             }
         }
         ```

      2.  切换移动模式

         ```java
         int switchMoveMode0(MoveModeEnum nextMoveModeEnum, boolean isNotify){
         	AbstractMoveMode moveMode = getMoveMode(nextMoveModeEnum);
         
             // 退出模式前需要打断移动
             if(curMoveMode.isMoving())
             {
                 curMoveMode.breakMove(false);
             }
             curMoveMode.onExitMode();
         
             this.lastMoveModeEnum = curMoveModeEnum;
             this.curMoveModeEnum = nextMoveModeEnum;
         
             // 切换
             curMoveMode = moveMode;
         
             curMoveMode.onEnterMode();    
         }
         ```

      3. 


